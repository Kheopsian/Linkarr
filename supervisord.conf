[supervisord]
nodaemon=true
user=root

[program:gunicorn]
# Adapte cette commande Ã  ton application.
# Ici, on lance une app FastAPI depuis backend/main.py avec 2 workers.
command=gunicorn -w 2 -k uvicorn.workers.UvicornWorker -b 127.0.0.1:8000 main:app --chdir /app/backend
user=appuser
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:nginx]
command=nginx -g "daemon off;"
user=appuser
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0